
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base package &#8212; sutil 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Models package" href="../models/models.html" />
    <link rel="prev" title="Quick Start" href="../usage/quickstart.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../models/models.html" title="Models package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../usage/quickstart.html" title="Quick Start"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">sutil 0.0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Base package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="base-package">
<h1>Base package<a class="headerlink" href="#base-package" title="Permalink to this headline">¶</a></h1>
<p>Base package includes classes that help you make different basic tasks related to ML models and analytics.</p>
</div>
<div class="section" id="classes">
<h1>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="Coin">
<em class="property">class </em><code class="sig-name descname">Coin</code><a class="headerlink" href="#Coin" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>Coin</em> class lets you define a charged coin with some probability value between 0 and 1. It’s useful to model stochastic binary processes using biased probabilities.</p>
<dl class="py attribute">
<dt id="Coin.probability">
<code class="sig-name descname">probability</code><a class="headerlink" href="#Coin.probability" title="Permalink to this definition">¶</a></dt>
<dd><p>It’s a float value between 0 and 1, which indicates the probability of a positive event. For example, a Coin with probability 0.3 will return positive approximately 30 times if we run the toss methods 100 tosses.</p>
</dd></dl>

<dl class="py method">
<dt id="Coin.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probability</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Coin.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates a Coin object with a given probability.</p>
</dd></dl>

<dl class="py method">
<dt id="Coin.toss">
<code class="sig-name descname">toss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Coin.toss" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True or False, True if the event were evaluated positively, False otherwise.</p>
</dd></dl>

<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sutil.base.Coin</span> <span class="kn">import</span> <span class="n">Coin</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Coin</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">positives</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">toss</span><span class="p">():</span>
        <span class="n">positives</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="n">positives</span><span class="p">)</span>
</pre></div>
</div>
<p>This example should print a number close to 30.</p>
</dd></dl>

<dl class="py class">
<dt id="Dataset">
<em class="property">class </em><code class="sig-name descname">Dataset</code><a class="headerlink" href="#Dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>Dataset</em> class is a simple abstraction of a multidimensional dataset, which can be fed to a model. It includes a method to normalize the data, add a bias plot, and split the data in train, test, and validation datasets. Provides functionality to normalize the feature add Bias term to the data, and sample a number of examples. It comes handy to load datasets that are expressed as a csv of separated features and have the class as the last one. It’s modeled as a couple of matrixes, a training matrix of dimensions <a href="#id1"><span class="problematic" id="id2">``</span></a>m x n “this means the dataset has m examples, each one having n features.</p>
<dl class="py attribute">
<dt id="Dataset.X">
<code class="sig-name descname">X</code><a class="headerlink" href="#Dataset.X" title="Permalink to this definition">¶</a></dt>
<dd><p>It’s a float NumPy array that represents the features in the dataset.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Dataset.y">
<code class="sig-name descname">y</code><a class="headerlink" href="#Dataset.y" title="Permalink to this definition">¶</a></dt>
<dd><p>It’s a float NumPy array that represents the labels of the examples.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Dataset.n">
<code class="sig-name descname">n</code><a class="headerlink" href="#Dataset.n" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of features on each example of the dataset.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Dataset.m">
<code class="sig-name descname">m</code><a class="headerlink" href="#Dataset.m" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of examples in the dataset. Is the synonym of the ‘size’ attribute.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Dataset.size">
<code class="sig-name descname">size</code><a class="headerlink" href="#Dataset.size" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of examples in the dataset. Is a synonym of the ‘m’ attribute.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Dataset.shape">
<code class="sig-name descname">shape</code><a class="headerlink" href="#Dataset.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Tuple indicating the shape of the dataset.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Dataset.labels">
<code class="sig-name descname">labels</code><a class="headerlink" href="#Dataset.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>List of the existing labels in the dataset</p>
</dd></dl>

<dl class="py attribute">
<dt id="Dataset.xsize">
<code class="sig-name descname">xsize</code><a class="headerlink" href="#Dataset.xsize" title="Permalink to this definition">¶</a></dt>
<dd><p>An integer number of features of each example in the dataset. Is a synonym of the ‘n’ attribute.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Dataset.ysize">
<code class="sig-name descname">ysize</code><a class="headerlink" href="#Dataset.ysize" title="Permalink to this definition">¶</a></dt>
<dd><p>An integer number of features in the label output. Useful for multi labeling classification.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Dataset.title">
<code class="sig-name descname">title</code><a class="headerlink" href="#Dataset.title" title="Permalink to this definition">¶</a></dt>
<dd><p>A string representing the title of the graph of the dataset when the plotData method is invoked.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Dataset.legend">
<code class="sig-name descname">legend</code><a class="headerlink" href="#Dataset.legend" title="Permalink to this definition">¶</a></dt>
<dd><p>A string representing the legend of the graph of the data when plotData method is invoked.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Dataset.xlabel">
<code class="sig-name descname">xlabel</code><a class="headerlink" href="#Dataset.xlabel" title="Permalink to this definition">¶</a></dt>
<dd><p>String label for the x-axis when the data graph is generated.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Dataset.ylabel">
<code class="sig-name descname">ylabel</code><a class="headerlink" href="#Dataset.ylabel" title="Permalink to this definition">¶</a></dt>
<dd><p>String label for the y-axis when the data graph is generated.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.loadData">
<code class="sig-name descname">loadData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datafile</span></em>, <em class="sig-param"><span class="n">delimeter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.loadData" title="Permalink to this definition">¶</a></dt>
<dd><p>This method loads the data from a csv file using the passed delimiter. The label is the last column of the csv, all the previous columns are considered as features. Process your csv file to this form before invoking the loadData method.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.setData">
<code class="sig-name descname">setData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="o">=</span><span class="default_value">'x'</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">['y=1', 'y=0']</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">'Graph'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.setData" title="Permalink to this definition">¶</a></dt>
<dd><p>This method sets the properties using the X and y values given to the method. The rest of the properties are calculated. Also can receive named arguments to use when the data is plotted.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="o">=</span><span class="default_value">'x'</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">['y=1', 'y=0']</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">'Graph'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called to initialize the dataset using the data, this method is the one to be overwritten in case you need to subclass the DataSet.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.plotData">
<code class="sig-name descname">plotData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.plotData" title="Permalink to this definition">¶</a></dt>
<dd><p>This method plots the different classes in the DataSet using a bidimensional feature array and the classes defined in the labels. It only takes account of the 2 first features of the examples and the class. 3d plotting is not yet available, but it would be a really cool feature to add =). If the name of the file is passed, it saves the graph to a png image. The markers style of the class is randomly selected for a color and marker fixed array.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.getRandomIdentifier">
<code class="sig-name descname">getRandomIdentifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">colors</span></em>, <em class="sig-param"><span class="n">markers</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.getRandomIdentifier" title="Permalink to this definition">¶</a></dt>
<dd><p>This method picks randomly two elements of the color and marker lists passed as parameters and return a tuple with the color and marker</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.plotDataRegression">
<code class="sig-name descname">plotDataRegression</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.plotDataRegression" title="Permalink to this definition">¶</a></dt>
<dd><p>This method shows the regression plot for the data. If the file parameters are passed, it saves a png image with the result.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.getPlotRegression">
<code class="sig-name descname">getPlotRegression</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">randomize_marker</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.getPlotRegression" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates the graph and axes objects of the pyplot.subplots() method. It uses the first feature of the example as X value and the y feature of the example as y value, so it plots a regression style data. If the randomize_marker parameter is True, then a random marker is used to plot the data if not red crosses are used by default.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.normalizeFeatures">
<code class="sig-name descname">normalizeFeatures</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.normalizeFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>This method performs a simple normalization of the features by columns, using a normalization formula of the form: (x - mu) / sigma, where x is the value, mu is the mean value of the column, and sigma is the standard deviation of the column data. It sets the X values to it’s normalized form. It returns a copy of the normalized values, and 2 arrays mu and sigma, of size n including the means and standard deviations of the columns. Also sets the mu and sigma values of the class to the obtained values.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.normalizeExample">
<code class="sig-name descname">normalizeExample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">example</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.normalizeExample" title="Permalink to this definition">¶</a></dt>
<dd><p>This method performs an (x - mu) / sigma normalization using the means and standard deviations data obtained by the normalized features method. If the data have been not normalized, return the example as it was received.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.isNormalized">
<code class="sig-name descname">isNormalized</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.isNormalized" title="Permalink to this definition">¶</a></dt>
<dd><p>This method verifies if the dataset has been normalized. The method does this checking if the mu and sigma arrays are not None. This means you can perform a “manual normalization,” setting the values of the mu and sigma values manually. Be careful to set it to correct dimension values; otherwise, you will obtain an error when you try to normalize the example using the normalizeExample method.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.split">
<code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">train</span><span class="o">=</span><span class="default_value">0.8</span></em>, <em class="sig-param"><span class="n">validation</span><span class="o">=</span><span class="default_value">0.2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Return three datasets, including the train, validation, and test using the defined percentages. The train dataset size is set to the value passed as a parameter, the test dataset is set to 1 - the size of the train dataset and the validation set is set to the validation * train percentage of the dataset. If the validation is set to 0, it returns only the train and validation datasets.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves a pickle file with the current Dataset object. If the file name is passed as a parameter, the file is saved with that name if not it uses the model_currenttime as a file to save it.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.sample">
<code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">percentage</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Dataset using the percentage of the original dataset passed as parameter randomly chosen. It includes the y labels and classes.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.getShape">
<code class="sig-name descname">getShape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.getShape" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the shape of the dataset in a tuple of form X.shape, y.shape.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.getBiasedX">
<code class="sig-name descname">getBiasedX</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.getBiasedX" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the X parameters adding a 1 column as the first column. It comes handy when using neural networks to classify the data.</p>
</dd></dl>

<dl class="py method">
<dt id="Dataset.clone">
<code class="sig-name descname">clone</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dataset.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Dataset object with the same plot parameters as the current one but using the X and y data passed as parameters.</p>
</dd></dl>

<p>Examples:</p>
<p>This example depicts how to loaf the dataset, do the split in train, validation and test datasets, and sample a 30 percent of the data to create a minor dataset:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sutil.base.Dataset</span> <span class="kn">import</span> <span class="n">Dataset</span>

<span class="n">datafile</span> <span class="o">=</span> <span class="s1">&#39;./sutil/datasets/ex2data1.txt&#39;</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">fromDataFile</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

<span class="n">sample</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;modelo_01&quot;</span><span class="p">)</span>
<span class="n">train</span><span class="p">,</span> <span class="n">validation</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">train</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">,</span> <span class="n">validation</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">train</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">validation</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
</pre></div>
</div>
<p>This example shows how to normalize the feature and plot the data using a randomly generated marker:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sutil.base.Dataset</span> <span class="kn">import</span> <span class="n">Dataset</span>

<span class="n">datafile</span> <span class="o">=</span> <span class="s1">&#39;./sutil/datasets/ex1data1.txt&#39;</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">fromDataFile</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">normalizeFeatures</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">getBiasedX</span><span class="p">())</span>
<span class="n">d</span><span class="o">.</span><span class="n">plotDataRegression</span><span class="p">(</span><span class="s1">&#39;example&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="Experiment">
<em class="property">class </em><code class="sig-name descname">Experiment</code><a class="headerlink" href="#Experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>Experiment</em> class lets you define experiments using a single dataset and test how different models fit and evaluate using the same dataset.</p>
<dl class="py attribute">
<dt id="Experiment.models">
<code class="sig-name descname">models</code><a class="headerlink" href="#Experiment.models" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of the models included in the Experiment, the key is the name of the model and the value of the model itself.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Experiment.models_index">
<code class="sig-name descname">models_index</code><a class="headerlink" href="#Experiment.models_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of the index of each model by its name is used to translate the model names to positions.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Experiment.train_p">
<code class="sig-name descname">train_p</code><a class="headerlink" href="#Experiment.train_p" title="Permalink to this definition">¶</a></dt>
<dd><p>Value of the percentage oF the train partition of the dataset.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Experiment.validation_p">
<code class="sig-name descname">validation_p</code><a class="headerlink" href="#Experiment.validation_p" title="Permalink to this definition">¶</a></dt>
<dd><p>Value of the percentage of the validation data of the dataset.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Experiment.train">
<code class="sig-name descname">train</code><a class="headerlink" href="#Experiment.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset of the train data.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Experiment.validation">
<code class="sig-name descname">validation</code><a class="headerlink" href="#Experiment.validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset of the validation data.</p>
</dd></dl>

<dl class="py attribute">
<dt id="Experiment.test">
<code class="sig-name descname">test</code><a class="headerlink" href="#Experiment.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset of the test data.</p>
</dd></dl>

<dl class="py method">
<dt id="Experiment.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">models</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">train</span><span class="o">=</span><span class="default_value">0.8</span></em>, <em class="sig-param"><span class="n">validation</span><span class="o">=</span><span class="default_value">0.2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Experiment.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates an Experiment object using the passed data. If no Models are passed, creates a new dictionary. It performs the data split to apply the experiment.</p>
</dd></dl>

<dl class="py method">
<dt id="Experiment.splitData">
<code class="sig-name descname">splitData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Experiment.splitData" title="Permalink to this definition">¶</a></dt>
<dd><p>This method split the data passed as a parameter and sets the train, validation, and test attributes of the experiment. Acts as a wrapper of the split method of the dataset.</p>
</dd></dl>

<dl class="py method">
<dt id="Experiment.addModel">
<code class="sig-name descname">addModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">modelClass</span></em>, <em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Experiment.addModel" title="Permalink to this definition">¶</a></dt>
<dd><p>This method adds a model to the model list yo be evaluated.</p>
</dd></dl>

<dl class="py method">
<dt id="Experiment.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Experiment.run" title="Permalink to this definition">¶</a></dt>
<dd><p>This method runs the experiment training the models. If the plot attribute is set to True, it shows the ModelRoc of the models.</p>
</dd></dl>

<p>Example:</p>
<p>This example performs an experiment comparing sutil RegularizedLogisticRegression, Sklearn LogisticRegression, and sutil NeuralNetworkClassifer. The code loads the dataset, setups the experiment, pre-train the neural network model, and run the experiment showing the Roc curves for the included models.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span># -*- coding: utf-8 -*-
import numpy as np
from sutil.base.Dataset import Dataset
from sklearn.linear_model import LogisticRegression
from sutil.base.Experiment import Experiment
from sutil.models.SklearnModel import SklearnModel
from sutil.models.RegularizedLogisticRegression import RegularizedLogisticRegression
from sutil.neuralnet.NeuralNetworkClassifier import NeuralNetworkClassifier

# Load the data
datafile = &#39;./sutil/datasets/ex2data1.txt&#39;
d = Dataset.fromDataFile(datafile, &#39;,&#39;)
d.normalizeFeatures()
print(&quot;Size of the dataset... &quot;)
print(d.size)
sample = d.sample(0.3)
print(&quot;Size of the sample... &quot;)
print(d.sample)


# Create the models
theta = np.zeros((d.n + 1, 1))
lr = RegularizedLogisticRegression(theta, 0.03, 0)
m = SklearnModel(&#39;Sklearn Logistic&#39;, LogisticRegression())
# Look for the best parameters using a sample
nn = NeuralNetworkClassifier((d.n, len(d.labels)))
nn.searchParameters(sample)

input(“Press enter to continue...”)

# Create the experiment
experiment = Experiment(d, None, 0.8, 0.2)
experiment.addModel(lr, name = &#39;Sutil Logistic Regression&#39;)
experiment.addModel(m, name = &#39;Sklearn Logistic Regression&#39;)
experiment.addModel(nn, name = &#39;Sutil Neural Network&#39;)

# Run the experiment
experiment.run(plot = True)
</pre></div>
</div>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Base package</a></li>
<li><a class="reference internal" href="#classes">Classes</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../usage/quickstart.html"
                        title="previous chapter">Quick Start</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../models/models.html"
                        title="next chapter">Models package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/base/base.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../models/models.html" title="Models package"
             >next</a> |</li>
        <li class="right" >
          <a href="../usage/quickstart.html" title="Quick Start"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">sutil 0.0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Base package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, SoldAI.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  </body>
</html>