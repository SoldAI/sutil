
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metrics Package &#8212; sutil 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Text Package" href="../text/text.html" />
    <link rel="prev" title="Neuralnet" href="../neuralnet/neuralnet.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../text/text.html" title="Text Package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../neuralnet/neuralnet.html" title="Neuralnet"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">sutil 0.0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Metrics Package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="metrics-package">
<h1>Metrics Package<a class="headerlink" href="#metrics-package" title="Permalink to this headline">¶</a></h1>
<p>SoldAI utils (sutil) metrics package includes metrics to evaluate the classification results.</p>
<<<<<<< Updated upstream
</div>
<div class="section" id="classes">
<h1>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ModelROC">
<em class="property">class </em><code class="descname">ModelROC</code><a class="headerlink" href="#ModelROC" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>ModelROC</em> class let’s you define a evaluation metric for classification using the ROC curve to evaluate a classification model. The class calculates the predictions and plot the area under the curve.</p>
<dl class="attribute">
<dt id="ModelROC.model">
<code class="descname">model</code><a class="headerlink" href="#ModelROC.model" title="Permalink to this definition">¶</a></dt>
<dd><p>It’s a model object previously trained that will be used to compute the predictions.</p>
</dd></dl>

<dl class="attribute">
<dt id="ModelROC.fpr">
<code class="descname">fpr</code><a class="headerlink" href="#ModelROC.fpr" title="Permalink to this definition">¶</a></dt>
<dd><p>False positives rate.</p>
</dd></dl>

<dl class="attribute">
<dt id="ModelROC.tpr">
<code class="descname">tpr</code><a class="headerlink" href="#ModelROC.tpr" title="Permalink to this definition">¶</a></dt>
<dd><p>True positives rate.</p>
</dd></dl>

<dl class="attribute">
<dt id="ModelROC.auc">
<code class="descname">auc</code><a class="headerlink" href="#ModelROC.auc" title="Permalink to this definition">¶</a></dt>
<dd><p>Area under the curve score</p>
</dd></dl>

<dl class="attribute">
<dt id="ModelROC.legend">
<code class="descname">legend</code><a class="headerlink" href="#ModelROC.legend" title="Permalink to this definition">¶</a></dt>
<dd><p>Legend for the graph</p>
</dd></dl>

<dl class="method">
<dt id="ModelROC.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>model</em>, <em>X_test</em>, <em>y_test</em>, <em>legend = 'model'</em><span class="sig-paren">)</span><a class="headerlink" href="#ModelROC.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates a new ModelROC class to be evaluated using the prediction of the given X and comparing it against the y_test values. The predictipns are made invoking to the getPredictions method. Then the roc_curve method of sklearn is invoked to find the auc score</p>
</dd></dl>

<dl class="method">
<dt id="ModelROC.getPredictions">
<code class="descname">getPredictions</code><span class="sig-paren">(</span><em>X_test</em><span class="sig-paren">)</span><a class="headerlink" href="#ModelROC.getPredictions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the predictions made by the self.model.predict method</p>
</dd></dl>

<dl class="method">
<dt id="ModelROC.plotData">
<code class="descname">plotData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ModelROC.plotData" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the ROC curve plot data of the evaluated model using the paramters defined in the class. This class don’t show the plot, only sets the values to plot</p>
</dd></dl>

<dl class="method">
<dt id="ModelROC.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ModelROC.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>This method shows the ROCCurve of the plot obtained invoking to the pltData method</p>
</dd></dl>

<dl class="method">
<dt id="ModelROC.zoom">
<code class="descname">zoom</code><span class="sig-paren">(</span><em>zoom_x</em>, <em>zoom_y</em><span class="sig-paren">)</span><a class="headerlink" href="#ModelROC.zoom" title="Permalink to this definition">¶</a></dt>
<dd><p>This method recieves two tuples being the zoom ranges for the x and y axis. This method let’s you zoom some part of the ROC curve plot and shows the result.</p>
</dd></dl>

<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sutil.base.Dataset</span> <span class="kn">import</span> <span class="n">Dataset</span>
<span class="kn">from</span> <span class="nn">sutil.models.RegularizedLogisticRegression</span> <span class="kn">import</span> <span class="n">RegularizedLogisticRegression</span>
<span class="kn">from</span> <span class="nn">sutil.metrics.ModelROC</span> <span class="kn">import</span> <span class="n">ModelROC</span>

<span class="n">datafile</span> <span class="o">=</span> <span class="s1">&#39;./sutil/datasets/ex2data1.txt&#39;</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">fromDataFile</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">d</span><span class="o">.</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.03</span>
<span class="n">l</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">lr</span> <span class="o">=</span> <span class="n">RegularizedLogisticRegression</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
<span class="n">lr</span><span class="o">.</span><span class="n">trainModel</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">ModelROC</span><span class="p">(</span><span class="n">lr</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">getBiasedX</span><span class="p">(),</span> <span class="n">d</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">legend</span> <span class="o">=</span> <span class="s1">&#39;Example of Model ROC usage&#39;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">zoom</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">),(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
</pre></div>
</div>
<p>This example ilustrates how to use the ModelROC class</p>
</dd></dl>

=======
>>>>>>> Stashed changes
</div>
<div class="section" id="classes">
<h1>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="ModelROC">
<em class="property">class </em><code class="sig-name descname">ModelROC</code><a class="headerlink" href="#ModelROC" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>ModelROC</em> class lets you define an evaluation metric for classification using the ROC curve to evaluate a classification model. The class calculates the predictions and plot the area under the curve.</p>
<dl class="py attribute">
<dt id="ModelROC.model">
<code class="sig-name descname">model</code><a class="headerlink" href="#ModelROC.model" title="Permalink to this definition">¶</a></dt>
<dd><p>It’s a model object previously trained that will be used to compute the predictions.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ModelROC.fpr">
<code class="sig-name descname">fpr</code><a class="headerlink" href="#ModelROC.fpr" title="Permalink to this definition">¶</a></dt>
<dd><p>False positives rate.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ModelROC.tpr">
<code class="sig-name descname">tpr</code><a class="headerlink" href="#ModelROC.tpr" title="Permalink to this definition">¶</a></dt>
<dd><p>True positives rate.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ModelROC.auc">
<code class="sig-name descname">auc</code><a class="headerlink" href="#ModelROC.auc" title="Permalink to this definition">¶</a></dt>
<dd><p>The area under the curve score.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ModelROC.legend">
<code class="sig-name descname">legend</code><a class="headerlink" href="#ModelROC.legend" title="Permalink to this definition">¶</a></dt>
<dd><p>Legend for the graph</p>
</dd></dl>

<dl class="py method">
<dt id="ModelROC.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">X_test</span></em>, <em class="sig-param"><span class="n">y_test</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">'model'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ModelROC.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates a new ModelROC class to be evaluated using the prediction of the given X and comparing it against the y_test values. The predictions are made invoking to the getPredictions method. Then the roc_curve method of Sklearn is invoked to find the AUC score.</p>
</dd></dl>

<dl class="py method">
<dt id="ModelROC.getPredictions">
<code class="sig-name descname">getPredictions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X_test</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ModelROC.getPredictions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the predictions made by the self.model.predict method</p>
</dd></dl>

<dl class="py method">
<dt id="ModelROC.plotData">
<code class="sig-name descname">plotData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ModelROC.plotData" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the ROC curve plot data of the evaluated model using the parameters defined in the class. This class doesn’t show the plot, it only sets the values to plot.</p>
</dd></dl>

<dl class="py method">
<dt id="ModelROC.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ModelROC.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>This method shows the ROCCurve of the plot obtained invoking to the plotData method.</p>
</dd></dl>

<dl class="py method">
<dt id="ModelROC.zoom">
<code class="sig-name descname">zoom</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zoom_x</span></em>, <em class="sig-param"><span class="n">zoom_y</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ModelROC.zoom" title="Permalink to this definition">¶</a></dt>
<dd><p>This method receives two tuples being the zoom ranges for the x and y-axis. This method lets you zoom some part of the ROC curve plot and shows the result.</p>
</dd></dl>

<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sutil.base.Dataset</span> <span class="kn">import</span> <span class="n">Dataset</span>
<span class="kn">from</span> <span class="nn">sutil.models.RegularizedLogisticRegression</span> <span class="kn">import</span> <span class="n">RegularizedLogisticRegression</span>
<span class="kn">from</span> <span class="nn">sutil.metrics.ModelROC</span> <span class="kn">import</span> <span class="n">ModelROC</span>

<span class="n">datafile</span> <span class="o">=</span> <span class="s1">&#39;./sutil/datasets/ex2data1.txt&#39;</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">fromDataFile</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">d</span><span class="o">.</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.03</span>
<span class="n">l</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">lr</span> <span class="o">=</span> <span class="n">RegularizedLogisticRegression</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
<span class="n">lr</span><span class="o">.</span><span class="n">trainModel</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">ModelROC</span><span class="p">(</span><span class="n">lr</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">getBiasedX</span><span class="p">(),</span> <span class="n">d</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">legend</span> <span class="o">=</span> <span class="s1">&#39;Example of Model ROC usage&#39;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">zoom</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">),(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
</pre></div>
</div>
<p>This example illustrates how to use the ModelROC class.</p>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Metrics Package</a></li>
<li><a class="reference internal" href="#classes">Classes</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../neuralnet/neuralnet.html"
                        title="previous chapter">Neuralnet</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../text/text.html"
                        title="next chapter">Text Package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/metrics/metrics.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../text/text.html" title="Text Package"
             >next</a> |</li>
        <li class="right" >
          <a href="../neuralnet/neuralnet.html" title="Neuralnet"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">sutil 0.0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Metrics Package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, SoldAI.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  </body>
</html>